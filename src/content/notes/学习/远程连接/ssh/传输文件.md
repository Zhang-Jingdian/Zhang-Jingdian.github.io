---
tags:
  - ip
  - linux
  - mac
  - ssh
  - ubuntu
  - scp
  - sftp
  - sshfs
---
***ğŸ“ æ–‡ä»¶ä¼ è¾“ç¬”è®° ï¼ˆMac â†” Ubuntuï¼‰**

---

## 1. ğŸï¸ `scp`ï¼šå®‰å…¨å¤åˆ¶ï¼ˆä¸€æ¬¡æ€§ã€è„šæœ¬åŒ–ï¼‰

- **ä¸Šä¼ å•ä¸ªæ–‡ä»¶**
    
    ```bash
    scp /æœ¬åœ°/è·¯å¾„/file.txt zjd@192.168.1.102:/è¿œç¨‹/è·¯å¾„/
    ```
    
- **ä¸‹è½½å•ä¸ªæ–‡ä»¶**
    
    ```bash
    scp zjd@192.168.1.102:/è¿œç¨‹/è·¯å¾„/file.txt /æœ¬åœ°/è·¯å¾„/
    ```
    
- **é€’å½’ä¸Šä¼ ç›®å½•**
    
    ```bash
    scp -r /æœ¬åœ°/æ–‡ä»¶å¤¹ zjd@192.168.1.102:/è¿œç¨‹/è·¯å¾„/
    ```
    
- **å¸¸ç”¨å‚æ•°**
    
    - `-P ç«¯å£å·`ï¼šæŒ‡å®šé 22 ç«¯å£
        
    - `-p`ï¼šä¿ç•™æ—¶é—´æˆ³ä¸æƒé™
        

---

## 2. ğŸ¤ `sftp`ï¼šäº¤äº’å¼ä¼ è¾“ï¼ˆæµè§ˆï¼‹æ–­ç‚¹ç»­ä¼ ï¼‰

1. **è¿æ¥æœåŠ¡å™¨**
    
    ```bash
    sftp zjd@192.168.1.102
    ```
    
2. **å¸¸ç”¨å‘½ä»¤**
    
    |å‘½ä»¤|è¯´æ˜|
    |---|---|
    |`ls` / `lls`|åˆ—å‡ºè¿œç¨‹ï¼æœ¬åœ°æ–‡ä»¶|
    |`cd` / `lcd`|åˆ‡æ¢è¿œç¨‹ï¼æœ¬åœ°ç›®å½•|
    |`get æ–‡ä»¶`|ä¸‹è½½æ–‡ä»¶|
    |`put æ–‡ä»¶`|ä¸Šä¼ æ–‡ä»¶|
    |`get -r ç›®å½•`|é€’å½’ä¸‹è½½ç›®å½•|
    |`put -r ç›®å½•`|é€’å½’ä¸Šä¼ ç›®å½•|
    |`reget` / `reput`|æ–­ç‚¹ç»­ä¼ |
    |`exit`|é€€å‡ºä¼šè¯|
    
3. **æŒ‡å®šç«¯å£æˆ–å¯†é’¥**
    
    ```bash
    sftp -oPort=2222 -oIdentityFile=~/.ssh/id_rsa zjd@IP
    ```
    

---

## 3. ğŸ”‘ å…å¯†ç ç™»å½•ï¼ˆKey-Based Authï¼‰

```bash
# ç”Ÿæˆå¯†é’¥ï¼ˆæ¨è ed25519ï¼‰
ssh-keygen -t ed25519

# ä¸Šä¼ å…¬é’¥
ssh-copy-id zjd@192.168.1.102

# æµ‹è¯•ï¼ˆæ— éœ€å¯†ç ï¼‰
ssh zjd@192.168.1.102
```

> **~/.ssh/config ç¤ºä¾‹**
> 
> ```text
> Host ubuntuhome
>   HostName 192.168.1.102
>   User zjd
>   IdentityFile ~/.ssh/id_ed25519
>   Port 22
>   UseKeychain yes         # macOS ä¸“ç”¨
>   AddKeysToAgent yes      # è‡ªåŠ¨åŠ å…¥ ssh-agent
> ```

---

## 4. ğŸ’¾ `sshfs`ï¼šè¿œç¨‹æŒ‚è½½ï¼ˆåƒæœ¬åœ°ç£ç›˜ï¼‰

1. **å®‰è£…ï¼ˆæ¨è gromgit tapï¼‰**
    
    ```bash
    brew install --cask macfuse
    brew tap gromgit/fuse
    brew install gromgit/fuse/sshfs-mac
    ```
    
2. **æŒ‚è½½**
    
    ```bash
    mkdir -p ~/mnt/ubuntu
    sshfs ubuntuhome:/home/zjd/projects ~/mnt/ubuntu
    ```
    
3. **å¸è½½**
    
    ```bash
    umount ~/mnt/ubuntu
    # æˆ–
    diskutil unmount ~/mnt/ubuntu
    ```
    

---

## 5. ğŸš€ é«˜çº§æŠ€å·§

- **è¿æ¥å¤ç”¨**ï¼ˆåŠ é€Ÿå¤šæ¬¡æ“ä½œï¼‰
    
    ```text
    Host *
      ControlMaster auto
      ControlPath ~/.ssh/cm-%r@%h:%p
      ControlPersist 10m
    ```
    
- **æ–­ç‚¹ç»­ä¼  & å¤§æ–‡ä»¶**
    
    ```bash
    rsync -avP -e "ssh -p 2222" æœ¬åœ°/ zjd@IP:/è¿œç¨‹/
    ```
    
- **è‡ªåŠ¨åŒ–è„šæœ¬**
    
    ```bash
    #!/bin/bash
    sshfs ubuntuhome:/home/zjd/projects ~/mnt/ubuntu && open ~/mnt/ubuntu
    ```
    
- **æŒ‚è½½å‚æ•°**
    
    - `-o reconnect`ï¼šæ–­çº¿è‡ªåŠ¨é‡è¿
        
    - `-o allow_other`ï¼šå…¶ä»–ç”¨æˆ·å¯è®¿é—®ï¼ˆè§†æƒ…å†µå¼€å¯ï¼‰
        

---

âœ¨ ä»¥ä¸Šå°±æ˜¯ Mac â†” Ubuntu æ–‡ä»¶ä¼ è¾“çš„å…¨å®¶æ¡¶ï¼Œä» â€œä¸€é”®å¤åˆ¶â€ åˆ° â€œåƒæœ¬åœ°ç£ç›˜â€ éƒ½æ¶µç›–ï¼›é…åˆ **å…å¯†ç ç™»å½•** ä¸ **SSH é…ç½®**ï¼Œè®©ä½ ç§’ä¼ æ— å¿§ï¼

æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦ä¸€é”®è„šæœ¬ï¼Œéšæ—¶å¼æˆ‘~ ğŸ±â€ğŸ’»